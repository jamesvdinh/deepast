"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3983],{541:(e,s,t)=>{t.d(s,{A:()=>i});const i="data:image/webp;base64,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"},859:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/imagej-import-rec2-c3d156214acef5e69d2a6616dc500948.webp"},2327:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/macos-open-anyway-2665a287c4c91b2c0040c253a1e9aeb1.webp"},3270:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/imagej-import2-a1368bf47960cec5016d51e5fadebabf.webp"},5439:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>h,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"tutorial1","title":"Tutorial: Scanning","description":"<meta","source":"@site/docs/04_tutorial1.md","sourceDirName":".","slug":"/tutorial1","permalink":"/deepast/tutorial1","draft":false,"unlisted":false,"editUrl":"https://github.com/ScrollPrize/villa/tree/main/scrollprize.org/docs/04_tutorial1.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Tutorial: Scanning","sidebar_label":"Scanning","hide_table_of_contents":true}}');var n=t(4848),r=t(8453),a=t(9443),l=t(5537),o=t(9329);const c={title:"Tutorial: Scanning",sidebar_label:"Scanning",hide_table_of_contents:!0},h=void 0,d={},u=[{value:"Campfire scroll",id:"campfire-scroll",level:3},{value:"Fiji",id:"fiji",level:3},{value:"Volumes",id:"volumes",level:3},{value:"Meshes",id:"meshes",level:3}];function m(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Head:i}=s;return i||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i,{children:[(0,n.jsx)("html",{"data-theme":"dark"}),(0,n.jsx)("meta",{name:"description",content:"A $1,000,000+ machine learning and computer vision competition"}),(0,n.jsx)("meta",{property:"og:type",content:"website"}),(0,n.jsx)("meta",{property:"og:url",content:"https://scrollprize.org"}),(0,n.jsx)("meta",{property:"og:title",content:"Vesuvius Challenge"}),(0,n.jsx)("meta",{property:"og:description",content:"A $1,000,000+ machine learning and computer vision competition"}),(0,n.jsx)("meta",{property:"og:image",content:"https://scrollprize.org/img/social/opengraph.jpg"}),(0,n.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{property:"twitter:url",content:"https://scrollprize.org"}),(0,n.jsx)("meta",{property:"twitter:title",content:"Vesuvius Challenge"}),(0,n.jsx)("meta",{property:"twitter:description",content:"A $1,000,000+ machine learning and computer vision competition"}),(0,n.jsx)("meta",{property:"twitter:image",content:"https://scrollprize.org/img/social/opengraph.jpg"})]}),"\n","\n",(0,n.jsx)(a.L,{highlightId:2}),"\n",(0,n.jsx)(s.h3,{id:"campfire-scroll",children:"Campfire scroll"}),"\n",(0,n.jsx)(s.p,{children:"To get a basic understanding of the kind of data we\u2019re working with, it\u2019s useful to look at it directly. Our goal will be to look at a scroll in two ways: 1) a \u201cword soup\u201d of floating letters, and 2) a mesh representation:"}),"\n",(0,n.jsxs)("div",{className:"flex flex-wrap items-start",children:[(0,n.jsxs)("figure",{className:"sm:w-[48.4%]",children:[(0,n.jsx)("img",{src:"/img/tutorials/en-gedi-word-soup.gif"}),(0,n.jsxs)("figcaption",{className:"mt-0",children:["Word soup in a simulated scroll ",(0,n.jsx)("a",{href:"https://www.youtube.com/watch?v=tL7rhIFNtQg",children:"(source)"})]})]}),(0,n.jsxs)("figure",{className:"sm:w-[50%]",children:[(0,n.jsx)("video",{autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:"w-[100%]",poster:"/img/tutorials/meshlab-small2.webp",children:(0,n.jsx)("source",{src:"/img/tutorials/meshlab-small2.webm",type:"video/webm"})}),(0,n.jsx)("figcaption",{className:"mt-0",children:"Mesh representation of the \u201ccampfire scroll\u201d"})]})]}),"\n",(0,n.jsxs)(s.p,{children:["We\u2019ll use ",(0,n.jsx)(s.a,{href:"https://www2.cs.uky.edu/dri/stephen-parsons/",children:"Stephen Parsons\u2019s"})," \u201ccampfire scroll\u201d proxy (available on the ",(0,n.jsx)("a",{href:"/data",children:"Data page"}),"). He made this scroll by writing on papyrus with both carbon ink (low contrast with papyrus in CT scans) and iron gall ink (high contrast with papyrus in CT scans). We won\u2019t give away all the reference pictures, but here is the last page of the scroll:"]}),"\n",(0,n.jsxs)("figure",{className:"max-w-[250px]",children:[(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:t(8643).A+"",width:"1130",height:"1405"})}),(0,n.jsx)("figcaption",{children:"Last page of the campfire scroll, with nonsense words"})]}),"\n",(0,n.jsxs)(s.p,{children:["Stephen then ",(0,n.jsx)(s.em,{children:"carbonized"})," the scroll through a process that is similar to that of making charcoal: he rolled up the scroll, sealed it in a cookie tin with a tiny hole poked in the top, and heated the tin in a campfire. In a hot, oxygen-poor environment like the cookie tin, the papyrus turns to carbon rather than catching on fire. He then put the resulting carbonized scroll in a benchtop CT scanner (Bruker SkyScan 1173)."]}),"\n",(0,n.jsxs)("figure",{className:"",children:[(0,n.jsxs)("div",{className:"flex flex-wrap",children:[(0,n.jsx)("img",{className:"max-h-[250px]",src:"/img/tutorials/campfire-rolled2.webp"}),(0,n.jsx)("img",{className:"max-h-[250px]",src:"/img/tutorials/campfire-rolled.webp"}),(0,n.jsx)("img",{className:"max-h-[250px]",src:"/img/tutorials/campfire-camp.webp"}),(0,n.jsx)("img",{className:"max-h-[250px]",src:"/img/tutorials/campfire-container.webp"}),(0,n.jsx)("img",{className:"max-h-[250px]",src:"/img/tutorials/campfire-result.webp"}),(0,n.jsx)("img",{className:"max-h-[250px]",src:"/img/tutorials/campfire-scanning.webp"}),(0,n.jsx)("img",{className:"max-h-[250px]",src:"/img/tutorials/campfire-scanning2.webp"})]}),(0,n.jsx)("figcaption",{className:"mt-1",children:"Making of the campfire scroll"})]}),"\n",(0,n.jsx)(s.h3,{id:"fiji",children:"Fiji"}),"\n",(0,n.jsx)(s.admonition,{type:"tip",children:(0,n.jsxs)(s.p,{children:["We now also have a community-contributed program that is worth trying out: ",(0,n.jsx)(s.a,{href:"https://github.com/lukeboi/scroll-viewer",children:"Scroll Viewer"}),"."]})}),"\n",(0,n.jsxs)(s.p,{children:["We\u2019ll use the ",(0,n.jsx)(s.a,{href:"https://imagej.net/software/fiji/downloads",children:"\u201cFiji\u201d"})," open source program, which is a versatile tool for all sorts of image-based operations. It is a distribution of ImageJ, but the main version of ImageJ doesn\u2019t include all the features we need. (In fact, \u201cFiji\u201d is a recursive acronym for \u201cFiji Is Just ImageJ\u201d.)"]}),"\n",(0,n.jsx)(s.admonition,{title:"OS-specific instructions",type:"info",children:(0,n.jsxs)(l.A,{groupId:"operating-systems",children:[(0,n.jsx)(o.A,{value:"win",label:"Windows",children:(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"No known issues."}),"\n"]})}),(0,n.jsxs)(o.A,{value:"mac",label:"macOS",children:[(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Even if you\u2019re using an M1/M2 processor, please use the x86_64 version."}),"\n",(0,n.jsxs)(s.li,{children:["If you get a popup saying that the app can\u2019t be opened, be sure to ",(0,n.jsx)(s.em,{children:"right click > Open"})," to circumvent the blocking."]}),"\n"]}),(0,n.jsx)("figure",{className:"max-w-[400px]",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:t(541).A+"",width:"302",height:"171"})})}),(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Alternatively, you can use the \u201cOpen Anyway\u201d trick: go to ",(0,n.jsx)(s.em,{children:"\u201cSystem Preferences > Security & Privacy > General > Open Anyway\u201d"}),"."]}),"\n"]}),(0,n.jsx)("figure",{className:"max-w-[400px]",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:t(2327).A+"",width:"1200",height:"1054"})})})]}),(0,n.jsx)(o.A,{value:"linux",label:"Linux",children:(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["We recommend downloading the ",(0,n.jsx)(s.code,{children:".app"})," portable application from their website, instead of using a package manager. It does require you to have the JVM installed."]}),"\n"]})})]})}),"\n",(0,n.jsxs)("div",{children:["To follow along, download the tutorial data: ",(0,n.jsx)("a",{href:"https://gist.github.com/janpaul123/280262ebce904f7366fe4cc155593e90",children:"campfire.zip"}),". In here there are three folders:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"raw"}),": the raw X-ray photos of the scroll."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"rec"}),": the reconstructed 3D image volume (\u201crec\u201d = \u201creconstructed\u201d)."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"logs"}),": log files during scanning and reconstruction."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Let\u2019s start with ",(0,n.jsx)(s.code,{children:"raw"}),". These are the raw X-ray photos of the scroll, taken in 0.15 degree steps for a full 360 degree rotation, so there are 2400 photos in total (you can see these details in ",(0,n.jsx)(s.code,{children:"logs/carbonized01-45kV_.log"})," and ",(0,n.jsx)(s.code,{children:"logs/carbonized01-45kV__TS.csv"}),")."]}),"\n",(0,n.jsx)(s.p,{children:"However, to keep this tutorial dataset small, we have resized these photos to 1/4th their size and kept only every 4th photo. This effectively reduces the voxel size of these scans from the original 26\xb5m to 104\xb5m. We also reduced the bit depth from 16 bits to 8 bits."}),"\n",(0,n.jsx)(s.p,{children:"We don\u2019t typically use these photos directly, but they are useful to understand how CT scanning works."}),"\n",(0,n.jsx)("figure",{className:"max-w-[556px]",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:t(3270).A+"",width:"1112",height:"786"})})}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["In Fiji navigate to ",(0,n.jsx)(s.em,{children:"\u201cFile > Import > Image Sequence\u201d"}),". Then ",(0,n.jsx)(s.em,{children:"\u201cBrowse\u201d"})," to select ",(0,n.jsx)(s.code,{children:"campfire/raw"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["The ",(0,n.jsx)(s.em,{children:"\u201cCount\u201d"})," should show exactly 600.",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(s.strong,{children:"If the count is not exactly 600"}),": double-check that the unzipping of the dataset resulted in multiple directories. Sometimes zip programs put all files inside one big directory."]}),"\n",(0,n.jsxs)(s.li,{children:["Click ",(0,n.jsx)(s.em,{children:"\u201cOK\u201d"})," to load the image stack."]}),"\n"]}),"\n",(0,n.jsx)(s.admonition,{type:"tip",children:(0,n.jsxs)(s.p,{children:["If Fiji crashes, or you run into other issues, try to increase the memory limit: ",(0,n.jsx)(s.em,{children:"\u201cEdit > Options > Memory and Threads\u201d."})]})}),"\n",(0,n.jsxs)(s.p,{children:["Note that when you are loading a dataset that hasn\u2019t been reduced in size beforehand, you can do that here. For example, we could have set ",(0,n.jsx)(s.em,{children:"\u201cScale\u201d"})," to ",(0,n.jsx)(s.em,{children:"\u201c25%\u201d"})," and ",(0,n.jsx)(s.em,{children:"\u201cStep\u201d"})," to ",(0,n.jsx)(s.em,{children:"\u201c4\u201d"}),", to get a similar result."]}),"\n",(0,n.jsx)(s.p,{children:"In the resulting scan you can vaguely see some features, perhaps even some ink, but it's hard to see what is actually in there:"}),"\n",(0,n.jsx)("figure",{children:(0,n.jsx)("video",{autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:"max-w-[100%] rounded-xl",poster:"/img/tutorials/imagej-raw-xrays2.webp",children:(0,n.jsx)("source",{src:"/img/tutorials/imagej-raw-xrays2.webm",type:"video/webm"})})}),"\n",(0,n.jsx)(s.h3,{id:"volumes",children:"Volumes"}),"\n",(0,n.jsxs)(s.p,{children:["However, this is not yet the data we use for virtual unwrapping or machine learning. For that, these x-ray projection images are combined using a process called ",(0,n.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Tomographic_reconstruction",children:"tomographic reconstruction"}),". This is typically done by software that comes with the CT scanner, so we already have done this, in our case using the Bruker SkyScan NRecon tool."]}),"\n",(0,n.jsxs)(s.p,{children:["The result of reconstruction is a 3D image, or volume, which is made up of 3D pixel cubes called voxels. The ",(0,n.jsx)(s.em,{children:"voxel size"})," of the volume tells us the physical size of the cube, and the value stored in the voxel is an estimate of that location's radiodensity. Like the x-ray images, the volume is stored as a .tif image stack, but this time each image represents a slice along the \u201cz\u201d axis of the volume."]}),"\n",(0,n.jsx)("figure",{className:"max-w-[556px]",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:t(859).A+"",width:"1112",height:"786"})})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"First close the existing window with the image stack."}),"\n",(0,n.jsxs)(s.li,{children:["Then open our reconstructed slices ",(0,n.jsx)(s.code,{children:"campfire/rec"})," in the same way into Fiji (",(0,n.jsx)(s.em,{children:"\u201cFile > Import > Image Sequence\u201d"}),")."]}),"\n",(0,n.jsxs)(s.li,{children:["The count should be ",(0,n.jsx)(s.strong,{children:"477"})," now."]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"The result should look like this:"}),"\n",(0,n.jsx)("figure",{children:(0,n.jsx)("video",{autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:"w-[100%] max-w-[400px] rounded-xl",poster:"/img/tutorials/imagej-slices2.webp",children:(0,n.jsx)("source",{src:"/img/tutorials/imagej-slices2.webm",type:"video/webm"})})}),"\n",(0,n.jsx)(s.p,{children:'In these images, radiodense materials have bright pixel values while more radiolucent materials have darker pixel values. As a result, you can see the iron gall ink light up quite clearly in these slices as bright lines which follow the wraps of the scroll. However, it\u2019s impossible to make out any letters from this "top-down" view of the volume.'}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Go to ",(0,n.jsx)(s.em,{children:"\u201cPlugins > Volume Viewer\u201d"}),".","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"It can take a while to load \u2014 there is a status bar with a loading bar on the main Fiji window."}),"\n",(0,n.jsxs)(s.li,{children:["In the top bar select ",(0,n.jsx)(s.em,{children:"\u201cMode > Volume (4)\u201d"})]}),"\n",(0,n.jsxs)(s.li,{children:["And ",(0,n.jsx)(s.em,{children:"\u201cInterpolation: Nearest Neighbor (0)\u201d"})]}),"\n",(0,n.jsxs)(s.li,{children:["Check all 3 checkboxes at the bottom (",(0,n.jsx)(s.em,{children:"\u201cAxes\u201d"}),", ",(0,n.jsx)(s.em,{children:"\u201cClipping\u201d"}),", and ",(0,n.jsx)(s.em,{children:"\u201cSlice positions\u201d"}),")."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["Click the ",(0,n.jsx)(s.em,{children:"\u201cxy\u201d"})," button at the bottom so you get a top down view","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Then click and drag up on the visualization to rotate it down."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)("figure",{children:(0,n.jsx)("video",{autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:"w-[100%] max-w-[700px] rounded-xl",poster:"/img/tutorials/drag-up2.webp",children:(0,n.jsx)("source",{src:"/img/tutorials/drag-up2.webm",type:"video/webm"})})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Next, draw the alpha graph to be roughly a diagonal line.","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"The x-axis represents the brightness of the color (left = dark, right = bright)."}),"\n",(0,n.jsx)(s.li,{children:"The y-axis represents the opacity that we\u2019ll draw with."}),"\n",(0,n.jsx)(s.li,{children:"A diagonal line means low opacity (= high translucency) for dark colors, which makes the parts without ink transparent, so we can see the ink shine through."}),"\n",(0,n.jsx)(s.li,{children:"You have to do the drawing in one go, because Fiji can hang for a while when it decides to rerender the image."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)("figure",{children:(0,n.jsx)("video",{autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:"w-[100%] max-w-[300px] rounded-xl",poster:"/img/tutorials/alpha-graph2.webp",children:(0,n.jsx)("source",{src:"/img/tutorials/alpha-graph2.webm",type:"video/webm"})})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Now you can play with the ",(0,n.jsx)(s.em,{children:"\u201cDistance\u201d"})," and ",(0,n.jsx)(s.em,{children:"\u201cScale\u201d"})," sliders.","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.em,{children:"\u201cDistance\u201d"})," slices the volume away from the camera, revealing more of the inner structure."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.em,{children:"\u201cScale\u201d"})," is simple zooming."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"See if you can uncover the spiral on the last page of the scroll:"}),"\n"]}),"\n",(0,n.jsx)("figure",{children:(0,n.jsx)("img",{src:"/img/tutorials/spiral.webp"})}),"\n",(0,n.jsx)(s.p,{children:"Here is a video showing the whole process:"}),"\n",(0,n.jsx)("figure",{children:(0,n.jsx)("video",{controls:!0,playsInline:!0,muted:!0,className:"w-[100%] rounded-xl",poster:"/img/tutorials/imagej-word-soup2.webp",children:(0,n.jsx)("source",{src:"/img/tutorials/imagej-word-soup2.webm",type:"video/webm"})})}),"\n",(0,n.jsx)(s.p,{children:"That is a what we call a \u201cword soup\u201d \u2014 letters floating in the air. Our real datasets aren\u2019t nearly as pretty as this, but this should give you some idea of what volumetric data of papyrus scrolls looks like in the best case scenario."}),"\n",(0,n.jsxs)(s.p,{children:["However, it\u2019s still hard to read anything. ",(0,n.jsx)(s.a,{href:"tutorial3",children:"\u201cTutorial 3: Segmentation and Flattening\u201d"})," should help with this."]}),"\n",(0,n.jsx)(s.h3,{id:"meshes",children:"Meshes"}),"\n",(0,n.jsx)(s.p,{children:"There is another way we can visualize the volume: we can convert it into triangles. A set of triangles is called a \u201cmesh\u201d, and it allows us to view our volume in tools that don\u2019t support image stacks directly, which is sometimes useful. For this, we need to export to a mesh from Fiji:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Go back to the tomographically reconstructed image stack in Fiji (or import it again using ",(0,n.jsx)(s.em,{children:"\u201cFile > Import > Image Sequence\u201d"}),")."]}),"\n",(0,n.jsxs)(s.li,{children:["Go to ",(0,n.jsx)(s.em,{children:"\u201cImage > Type (at the very top) > RGB Color\u201d"})," (this is required for the meshing algorithm)."]}),"\n",(0,n.jsxs)(s.li,{children:["Go to ",(0,n.jsx)(s.em,{children:"\u201cFile > Save As > Wavefront .OBJ (near the bottom)\u201d"})]}),"\n",(0,n.jsxs)(s.li,{children:["Now choose an intensity threshold above which we consider the object \u201csolid\u201d. A value of ",(0,n.jsx)(s.em,{children:"\u201c40\u201d"})," works well for the campfire scroll."]}),"\n",(0,n.jsxs)(s.li,{children:["Press ",(0,n.jsx)(s.em,{children:"\u201cOK\u201d"})," and save the file somewhere."]}),"\n",(0,n.jsx)(s.li,{children:"Wait a moment until the file is saved. It should be around 400MB."}),"\n"]}),"\n",(0,n.jsx)("figure",{className:"max-w-[200px]",children:(0,n.jsx)("img",{src:"/img/tutorials/mesh-export2.webp"})}),"\n",(0,n.jsxs)(s.p,{children:["Now, download and install ",(0,n.jsx)(s.a,{href:"https://www.meshlab.net/#download",children:"MeshLab"}),"."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Use ",(0,n.jsx)(s.em,{children:"\u201cFile > Import\u201d"}),", or drag the file into MeshLab.","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"It can take a while to import; there is a progress bar at the bottom."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["In the right panel, click on the cylinder icon (see screenshot below), then click on ",(0,n.jsx)(s.em,{children:"\u201cBack-Face > Double\u201d"}),"."]}),"\n",(0,n.jsx)(s.li,{children:"Drag around using the left mouse button to rotate the mesh."}),"\n"]}),"\n",(0,n.jsx)("figure",{children:(0,n.jsx)("img",{src:"/img/tutorials/meshlab.webp",className:"rounded-xl"})}),"\n",(0,n.jsx)(s.p,{children:"You can quite clearly see the different pieces of papyrus, and even the container holding the scroll in place inside the scanner. However, all information of letters contained in the data is lost."}),"\n",(0,n.jsx)(s.p,{children:"We\u2019ll use Meshlab in later tutorials, so it\u2019s useful to have seen it."}),"\n",(0,n.jsx)(s.p,{children:"Here is a video where we navigate around the model in Meshlab:"}),"\n",(0,n.jsx)("figure",{children:(0,n.jsx)("video",{controls:!0,playsInline:!0,muted:!0,className:"w-[100%] rounded-xl",poster:"/img/tutorials/meshlab2.webp",children:(0,n.jsx)("source",{src:"/img/tutorials/meshlab2.webm",type:"video/webm"})})})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}},5537:(e,s,t)=>{t.d(s,{A:()=>y});var i=t(6540),n=t(4164),r=t(5627),a=t(6347),l=t(372),o=t(604),c=t(1861),h=t(8749);function d(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:s}=e;return!!s&&"object"==typeof s&&"value"in s}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:s,children:t}=e;return(0,i.useMemo)((()=>{const e=s??function(e){return d(e).map((({props:{value:e,label:s,attributes:t,default:i}})=>({value:e,label:s,attributes:t,default:i})))}(t);return function(e){const s=(0,c.XI)(e,((e,s)=>e.value===s.value));if(s.length>0)throw new Error(`Docusaurus error: Duplicate values "${s.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[s,t])}function m({value:e,tabValues:s}){return s.some((s=>s.value===e))}function p({queryString:e=!1,groupId:s}){const t=(0,a.W6)(),n=function({queryString:e=!1,groupId:s}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:e,groupId:s});return[(0,o.aZ)(n),(0,i.useCallback)((e=>{if(!n)return;const s=new URLSearchParams(t.location.search);s.set(n,e),t.replace({...t.location,search:s.toString()})}),[n,t])]}function x(e){const{defaultValue:s,queryString:t=!1,groupId:n}=e,r=u(e),[a,o]=(0,i.useState)((()=>function({defaultValue:e,tabValues:s}){if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=s.find((e=>e.default))??s[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:s,tabValues:r}))),[c,d]=p({queryString:t,groupId:n}),[x,g]=function({groupId:e}){const s=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,n]=(0,h.Dv)(s);return[t,(0,i.useCallback)((e=>{s&&n.set(e)}),[s,n])]}({groupId:n}),f=(()=>{const e=c??x;return m({value:e,tabValues:r})?e:null})();(0,l.A)((()=>{f&&o(f)}),[f]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),g(e)}),[d,g,r]),tabValues:r}}var g=t(9136);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(4848);function w({className:e,block:s,selectedValue:t,selectValue:i,tabValues:a}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,r.a_)(),c=e=>{const s=e.currentTarget,n=l.indexOf(s),r=a[n].value;r!==t&&(o(s),i(r))},h=e=>{let s=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;s=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;s=l[t]??l[l.length-1];break}}s?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.A)("tabs",{"tabs--block":s},e),children:a.map((({value:e,label:s,attributes:i})=>(0,j.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:h,onClick:c,...i,className:(0,n.A)("tabs__item",f.tabItem,i?.className,{"tabs__item--active":t===e}),children:s??e},e)))})}function b({lazy:e,children:s,selectedValue:t}){const r=(Array.isArray(s)?s:[s]).filter(Boolean);if(e){const e=r.find((e=>e.props.value===t));return e?(0,i.cloneElement)(e,{className:(0,n.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:r.map(((e,s)=>(0,i.cloneElement)(e,{key:s,hidden:e.props.value!==t})))})}function v(e){const s=x(e);return(0,j.jsxs)("div",{className:(0,n.A)("tabs-container",f.tabList),children:[(0,j.jsx)(w,{...s,...e}),(0,j.jsx)(b,{...s,...e})]})}function y(e){const s=(0,g.A)();return(0,j.jsx)(v,{...e,children:d(e.children)},String(s))}},8453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>l});var i=t(6540);const n={},r=i.createContext(n);function a(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),i.createElement(r.Provider,{value:s},e.children)}},8643:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/campfire-last-page-8a23c6f5ff27743d7f86b40eb7e54e1e.webp"},9329:(e,s,t)=>{t.d(s,{A:()=>a});t(6540);var i=t(4164);const n={tabItem:"tabItem_Ymn6"};var r=t(4848);function a({children:e,hidden:s,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(n.tabItem,t),hidden:s,children:e})}},9443:(e,s,t)=>{t.d(s,{L:()=>n});t(6540);var i=t(4848);function n({highlightId:e}={}){return(0,i.jsxs)("div",{className:"mx-[-16px] sm:mx-0 flex flex-wrap items-start mb-4 text-center justify-center sm:justify-start",children:[(0,i.jsxs)("a",{href:"/tutorial1",className:"mb-2 flex flex-col items-center w-[100px] sm:w-[150px] relative box-content p-2 sm:p-4 sm:pb-2 hover:bg-[#fefefe26] rounded-xl "+(2==e?"bg-[#fffefc30] hover:bg-[#fefefe45]":""),children:[(0,i.jsx)("video",{autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:"w-[100%] rounded-xl mb-2",poster:"/img/tutorial-thumbs/top-scanning-small.webp",children:(0,i.jsx)("source",{src:"/img/tutorial-thumbs/top-scanning-small.webm",type:"video/webm"})}),(0,i.jsx)("div",{className:"text-sm",children:"Scanning"})]}),(0,i.jsxs)("div",{className:"hidden sm:flex mx-2 mb-2 flex-col items-center",children:[(0,i.jsx)("div",{className:"relative leading-[150px] py-4 w-[16px] text-center",children:"\u2192"}),(0,i.jsx)("div",{className:"text-sm",children:"\xa0"})]}),(0,i.jsxs)("a",{href:"/tutorial3",className:"mb-2 flex flex-col items-center w-[100px] sm:w-[150px] relative box-content p-2 sm:p-4 sm:pb-2 hover:bg-[#fefefe26] rounded-xl "+(3==e?"bg-[#fffefc30] hover:bg-[#fefefe45]":""),children:[(0,i.jsx)("video",{autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:"w-[100%] rounded-xl mb-2",poster:"/img/tutorial-thumbs/top-segmentation-small.webp",children:(0,i.jsx)("source",{src:"/img/tutorial-thumbs/top-segmentation-small.webm",type:"video/webm"})}),(0,i.jsx)("div",{className:"text-sm",children:"Segmentation and Flattening"})]}),(0,i.jsxs)("div",{className:"hidden sm:flex mx-2 mb-2 flex-col items-center",children:[(0,i.jsx)("div",{className:"relative leading-[150px] py-4 w-[16px] text-center",children:"\u2192"}),(0,i.jsx)("div",{className:"text-sm",children:"\xa0"})]}),(0,i.jsxs)("a",{href:"/tutorial4",className:"mb-2 flex flex-col items-center w-[100px] sm:w-[150px] relative box-content p-2 sm:p-4 sm:pb-2 hover:bg-[#fefefe26] rounded-xl "+(4==e?"bg-[#fffefc30] hover:bg-[#fefefe45]":""),children:[(0,i.jsx)("img",{className:"max-h-[300px] m-2",src:"/img/tutorials/fisherman.webp"}),(0,i.jsx)("div",{className:"text-sm",children:"Segmentation - a different approach"})]}),(0,i.jsxs)("div",{className:"hidden sm:flex mx-2 mb-2 flex-col items-center",children:[(0,i.jsx)("div",{className:"relative leading-[150px] py-4 w-[16px] text-center",children:"\u2192"}),(0,i.jsx)("div",{className:"text-sm",children:"\xa0"})]}),(0,i.jsxs)("a",{href:"/tutorial5",className:"mb-2 flex flex-col items-center w-[100px] sm:w-[150px] relative box-content p-2 sm:p-4 sm:pb-2 hover:bg-[#fefefe26] rounded-xl "+(5==e?"bg-[#fffefc30] hover:bg-[#fefefe45]":""),children:[(0,i.jsx)("video",{autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:"w-[100%] rounded-xl mb-2",poster:"/img/tutorial-thumbs/top-prediction-small3.webp",children:(0,i.jsx)("source",{src:"/img/tutorial-thumbs/top-prediction-small.webm",type:"video/webm"})}),(0,i.jsx)("div",{className:"text-sm",children:"Ink Detection"})]})]})}}}]);